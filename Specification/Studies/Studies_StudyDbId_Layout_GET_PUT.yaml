info:
  title: BrAPI
  version: 1.3-oas3
openapi: 3.0.0
paths:
  /studies/{studyDbId}/layout:
    get:
      description: ' Retrive the layout details for a study. Returns an array of observation unit position data which describes where each unit and germplasm is located within the study layout

        Retrieve the plot layout of the study with id {id}.

        For each observationUnit within a study, return the `block`, `replicate`, and `entryType` values as well as the `X` and `Y` coordinates. `entryType` can be "check", "test", or "filler".

        Also return some human readable meta data about the observationUnit and germplasm.


        test-server.brapi.org/brapi/v1/studies/{studyDbId}/layout '
      parameters:
      - description: Identifier of the study. Usually a number, could be alphanumeric.
        in: path
        name: studyDbId
        required: true
        schema:
          type: string
      - description: The size of the pages to be returned. Default is `1000`.
        in: query
        name: pageSize
        required: false
        schema:
          type: integer
      - description: Which result page is requested. The page indexing starts at 0 (the first page is 'page'= 0). Default is `0`.
        in: query
        name: page
        required: false
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              examples:
                response:
                  value:
                    metadata:
                      datafiles: []
                      pagination:
                        currentPage: 0
                        pageSize: 2
                        totalCount: 4
                        totalPages: 2
                      status: []
                    result:
                      data:
                      - X: '1'
                        Y: '1'
                        additionalInfo: {}
                        blockNumber: '1'
                        entryType: TEST
                        germplasmDbId: '1'
                        germplasmName: Name001
                        observationLevel: plant
                        observationUnitDbId: '2'
                        observationUnitName: Plant 1
                        replicate: '0'
                        studyDbId: '1001'
                      - X: '1'
                        Y: '2'
                        additionalInfo: {}
                        blockNumber: '1'
                        entryType: TEST
                        germplasmDbId: '2'
                        germplasmName: Name002
                        observationLevel: plot
                        observationUnitDbId: '3'
                        observationUnitName: Plot 2
                        replicate: '0'
                        studyDbId: '1001'
              schema:
                properties:
                  metadata:
                    $ref: '#/components/schemas/metadata'
                  result:
                    properties:
                      data:
                        items:
                          $ref: '#/components/schemas/observationUnitPosition'
                        type: array
                    type: object
                title: observationUnitPositionsResponse
                type: object
          description: OK
          headers: {}
      summary: Retrieve plot layout details
      tags:
      - Studies
    put:
      description: ' Modify a study layout

        Update the layout data for a set of observation units within a study. Each layout object is a subset of fields within an observationUnit, so it doesnt make sense to create a new layout object by itself.

        Implementation Notes:

        + If any of the fields in the request object is missing, that piece of data will not be updated. + If an observationUnitDbId can not be found within the given study, an error will be returned. + `entryType` can have the values "check", "test", or "filler". + The response should match the structure of the response from `GET studies/{studyDbId}/layout`, but it should only contain the layout objects which have been updated by the PUT request. Also, pagination is not available in the response.


        test-server.brapi.org/brapi/v1/studies/{studyDbId}/layout '
      parameters:
      - description: Identifier of the study. Usually a number, could be alphanumeric.
        in: path
        name: studyDbId
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/studyLayoutRequest'
        description: The request body for updateing a study layout
      responses:
        '200':
          content:
            application/json:
              examples:
                response:
                  value:
                    metadata:
                      datafiles: []
                      pagination:
                        currentPage: 0
                        pageSize: 0
                        totalCount: 0
                        totalPages: 0
                      status: []
                    result:
                      data:
                      - X: '10'
                        Y: '12'
                        additionalInfo: {}
                        blockNumber: '0'
                        entryType: CHECK
                        germplasmDbId: '1'
                        germplasmName: Name001
                        observationLevel: plot
                        observationUnitDbId: '1'
                        observationUnitName: Plot 1
                        replicate: '0'
                        studyDbId: '1001'
              schema:
                properties:
                  metadata:
                    $ref: '#/components/schemas/metadata'
                  result:
                    properties:
                      data:
                        items:
                          $ref: '#/components/schemas/observationUnitPosition'
                        type: array
                    type: object
                title: observationUnitPositionsResponse
                type: object
          description: OK
          headers: {}
      summary: Retrieve plot layout details
      tags:
      - Studies
