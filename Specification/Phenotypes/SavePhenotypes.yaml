definitions:
  Save Phenotypes for Many Studies: {}
info:
  description: ''
  title: ''
  version: ''
paths:
  /phenotypes:
    post:
      description: >
        Call to invoke for saving the measurements (observations) collected
        from field for all the observation units.
        Observation timestamp should be ISO 8601 https://www.w3.org/TR/NOTE-datetime
        In case where JSON data is zipped for faster transfer speed (as in the case
        of the IRRI handheld implementation), the zipped JSON file will be listed
        in datafiles. The zipped file contains a JSON file with the same structure
        as the BrAPI call. In this case a format parameter should be passed as well.
        Images can be optionally be uploaded using this call by providing a zipfile
        of all images in the datafiles, along with the actual zipfile in multi-part
        form data.
      parameters:
      - description: In case where JSON data is zipped for faster transfer speed (as in the case of the IRRI handheld implementation), the zipped JSON file will be listed in datafiles. The zipped file contains a JSON file with the same structure as the BrAPI call.
        in: query
        name: format
        type: string
        enum: [json, zip]
      - in: body
        name: body
        schema:
          type: object
          properties:
            metadata:
              $ref: '#/definitions/metadata' 
            result:
              type: object
              properties:
                transactionDbId:
                  type: string
                data:
                  type: array
                  items: 
                    description: new phenotypes
                    type: object
                    properties:
                      observatioUnitDbId:
                        type: string
                      observations:
                        type: array
                        items:
                          type: object
                          properties:
                            collector:
                              type: string
                            observationTimeStamp:
                              type: string
                            observationVariableDbId:
                              type: string
                            observationVariableName:
                              type: string
                            value:
                              type: string
                          required:
                          - observationVariableDbId
                          - observationVariableName
                          - collector
                          - observationTimeStamp
                          - value
                      studyDbId:
                        type: number
                    required:
                    - observatioUnitDbId
                    - studyDbId
                    - observations
      produces:
      - application/json
      responses:
        '200':
          description: OK
          examples: {}
          headers: {}
        '400':
          description: Bad Request
          examples:
            application/json:
              metadata:
                status:
                - code: '42'
                  message: Could not update values for phenotypes
          headers: {}
      summary: Save Observation Unit Phenotypes
      tags: 
      - Phenotypes
swagger: '2.0'
